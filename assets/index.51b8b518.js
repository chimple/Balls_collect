import{P as e}from"./vendor.21f5455c.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const i=new URL(e,location),o=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,a)=>{const r=new URL(e,i);if(self[t].moduleMap[r])return s(self[t].moduleMap[r]);const h=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(h),onerror(){a(new Error(`Failed to import: ${e}`)),o(l)},onload(){s(self[t].moduleMap[r]),o(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("/assets/");class t extends e.Scene{constructor(){super("game"),this.gameWidth=400,this.gameHeight=800,this.timer=0,this.resources=0,this.score=0,this.bestScore=0,this.speed=1200}preload(){this.load.image("enemy","./assets/enemy.png"),this.load.audio("collect","./assets/collect.wav"),this.load.audio("over","./assets/over.wav"),this.randomenemyPosition=[.15*this.gameWidth,.5*this.gameWidth,.85*this.gameWidth],this.scene.stop("welcomePage"),null==localStorage.getItem("bestScore")?this.bestScore=0:this.bestScore=localStorage.getItem("bestScore"),this.colour=new Map,this.colorsPicker=["orange","yellow","green"],this.number=[-1,this.gameWidth+1],this.colour.set("orange",16678990),this.colour.set("yellow",16700476),this.colour.set("green",1563803),this.orangeBalls=this.physics.add.group(),this.greenBalls=this.physics.add.group(),this.yellowBalls=this.physics.add.group()}create(){this.ballsGenerator(this.colorsPicker[0]),this.ballsGenerator(this.colorsPicker[1]),this.ballsGenerator(this.colorsPicker[2]),this.orangeButton=this.createButton(this.colorsPicker[0],.5*this.gameWidth),this.yellowButton=this.createButton(this.colorsPicker[1],.15*this.gameWidth),this.greenButton=this.createButton(this.colorsPicker[2],.85*this.gameWidth),this.enemy=this.add.image(this.yellowButton.x,.78*this.gameHeight,"enemy").setScale(.3),this.physics.add.existing(this.enemy),this.enemyTween(this.enemy,800),this.checkCollision(this.enemy,this.greenBalls),this.checkCollision(this.enemy,this.orangeBalls),this.checkCollision(this.enemy,this.yellowBalls),this.scoreCard(),this.time.addEvent({delay:1500,repeat:-1,callback:()=>{this.ballsGenerator(this.colorsPicker[this.randomNumberPic(0,2)])}})}checkCollision(e,t){this.physics.add.collider(e,t,((e,t)=>{this.gameEnd()}))}scoreCard(){this.scoreBoard=this.add.text(this.gameWidth/2,.02*this.gameHeight,"Score: 0",{fontSize:"40px",fontStyle:"bold",color:"#fffff"}).setFontSize(45).setFontFamily("Agency FB").setColor("#000000").setOrigin(.5,0)}ballsGenerator(e){for(var t=0;t<this.randomNumberPic(10,15);t++){var s=this.add.circle(this.number[this.randomNumberPic(0,1)],this.randomNumberPic(100,.65*this.gameHeight),10,this.colour.get(e));this.ballsTween(s),"yellow"==e?this.yellowBalls.add(s):"orange"==e?this.orangeBalls.add(s):this.greenBalls.add(s)}}ballsTween(e){this.tweens.add({targets:e,onComplete:()=>{this.ballsTween(e)},props:{x:{value:this.randomNumberPic(20,.9*this.gameWidth),duration:this.randomNumberPic(1400,1500)},y:{value:this.randomNumberPic(100,.65*this.gameHeight),duration:this.randomNumberPic(1400,1500)}}}).play}enemyTween(e,t){var s=this.randomenemyPosition[this.randomNumberPic(0,2)];s==this.enemy.x&&(s=this.randomenemyPosition[this.randomNumberPic(0,2)]),this.tweens.add({targets:e,onComplete:()=>{this.enemyTween(e,this.randomNumberPic(this.speed,this.speed+300))},props:{x:{value:s,duration:t}}}).play}randomNumberPic(e,t){return Math.floor(Math.random()*(t-e+1))+e}gameEnd(){this.sound.stopByKey("collect"),this.sound.play("over"),this.scene.pause(),this.bestScore<this.score&&localStorage.setItem("bestScore",this.score),this.add.text(this.gameWidth/2,this.gameHeight/2,"Game Over").setFontSize(60).setColor("#000000").setFontStyle("bold").setFontFamily("Zekton").setOrigin(.5),setTimeout((()=>{this.scene.start("welcomePage",{score:this.score,isGameOver:!0}),this.scene.remove("game")}),1e3)}clickEvent(e,t){var s=0;e.getChildren().forEach((e=>{s++,this.tweens.add({targets:e,alpha:1,props:{x:{value:t,duration:500},y:{value:.87*this.gameHeight,duration:500}},repeat:1,yoyo:!0}).play,this.time.addEvent({delay:500,callback:()=>{this.score++,this.scoreBoard.setText("Score: "+this.score),e.destroy()}})})),this.speed-=s/2}createButton(e,t){return this.add.circle(t,.87*this.gameHeight,30,this.colour.get(e)).setInteractive().on("pointerdown",(()=>{switch(e){case"orange":this.clickEvent(this.orangeBalls,t);break;case"yellow":this.clickEvent(this.yellowBalls,t);break;default:this.clickEvent(this.greenBalls,t)}})).on("pointerup",(()=>{this.sound.play("collect"),this.time.addEvent({delay:600,callback:()=>{this.ballsGenerator(e)}})}))}}class s extends Phaser.Scene{constructor(){super("welcomePage"),this.gameWidth=400,this.gameHeight=800}init(e){var t;this.score=e.score,this.isGameOver=null!=(t=e.isGameOver)&&t}preload(){this.load.image("title","./assets/title.png"),this.load.image("play","./assets/play.png"),this.load.audio("click","./assets/click.mp3"),null==localStorage.getItem("bestScore")?this.bestScore=0:this.bestScore=localStorage.getItem("bestScore")}create(){var e,s;this.add.image(200,50,"title").setOrigin(.5,0).setScale(.3),this.add.text(this.gameWidth/2,.4*this.gameHeight,"Score").setFontSize(60).setColor("#000000").setFontFamily("Agency FB").setOrigin(.5,0),this.add.text(this.gameWidth/2,.5*this.gameHeight,null!=(e=this.score)?e:"00").setFontSize(45).setFontFamily("Agency FB").setColor("#000000").setOrigin(.5,0),this.add.text(this.gameWidth/2,.65*this.gameHeight,"Best Score").setFontSize(50).setColor("#000000").setFontFamily("Agency FB").setOrigin(.5,0),this.add.text(this.gameWidth/2,.74*this.gameHeight,null!=(s=localStorage.getItem("bestScore"))?s:"00").setFontSize(45).setFontFamily("Agency FB").setColor("#000000").setOrigin(.5,0),this.button=this.add.image(this.gameWidth/2,.85*this.gameHeight,"play").setOrigin(.5,0).setScale(.35).setInteractive().on("pointerdown",(()=>{this.sound.play("click"),this.isGameOver&&this.scene.add("game",t,!1),this.scene.start("game")})),this.add.text(this.button.x-80,this.button.y+15,"Tap to Start",{fontSize:"35px",align:"centre",color:"\t#FFFFFF"}).setFontFamily("Agency FB")}}var i={type:e.AUTO,debugger:!0,scale:{mode:e.Scale.ScaleModes.HEIGHT_CONTROLS_WIDTH,autoCenter:e.Scale.Center.CENTER_BOTH},width:400,height:800,backgroundColor:"#EBFAFF",physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:[t,s]};new e.Game(Object.assign(i,{scene:[s,t]}));
