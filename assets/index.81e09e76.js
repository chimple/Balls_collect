import{P as e}from"./vendor.21f5455c.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const i=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,a)=>{const o=new URL(e,i);if(self[t].moduleMap[o])return s(self[t].moduleMap[o]);const h=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(h),onerror(){a(new Error(`Failed to import: ${e}`)),r(c)},onload(){s(self[t].moduleMap[o]),r(c)}});document.head.appendChild(c)})),self[t].moduleMap={}}}("/assets/");class t extends e.Scene{constructor(){super("game"),this.gameWidth=400,this.gameHeight=800,this.timer=0,this.resources=0,this.score=0,this.gameOver=!1,this.bestScore=0}preload(){null==localStorage.getItem("bestScore")?this.bestScore=0:this.bestScore=localStorage.getItem("bestScore"),this.colour=new Map,this.colorsPicker=["red","yellow","black"],this.colour.set("red",15740440),this.colour.set("yellow",16187136),this.colour.set("black",1315860),this.redBalls=this.physics.add.group(),this.blackBalls=this.physics.add.group(),this.yellowBalls=this.physics.add.group()}create(){this.BallGenerator(this.colorsPicker[0]),this.BallGenerator(this.colorsPicker[1]),this.BallGenerator(this.colorsPicker[2]),this.redButton=this.add.circle(.5*this.gameWidth,.87*this.gameHeight,30,15740440).setInteractive().on("pointerdown",(()=>{this.redBalls.getChildren().forEach((t=>{this.checkBall=t,this.tweens.add({targets:t,alpha:1,props:{x:{value:.5*this.gameWidth,duration:900},y:{value:.87*this.gameHeight,duration:900,ease:e.Math.Easing.Quadratic.InOut}},repeat:1,yoyo:!0}).play,this.time.addEvent({delay:900,callback:()=>{this.score++,this.scoreBoard.setText("Score: "+this.score),t.destroy()}})}))})).on("pointerup",(()=>{})),this.yellowButton=this.add.circle(.25*this.gameWidth,.87*this.gameHeight,30,16187136).setInteractive().on("pointerdown",(()=>{this.yellowBalls.getChildren().forEach((t=>{this.tweens.add({targets:t,alpha:1,props:{x:{value:.25*this.gameWidth,duration:900},y:{value:.87*this.gameHeight,duration:900,ease:e.Math.Easing.Quadratic.InOut}},repeat:1,yoyo:!0}).play,this.time.addEvent({delay:900,callback:()=>{this.score++,this.scoreBoard.setText("Score: "+this.score),t.destroy()}})}))})).on("pointerup",(()=>{})),this.blackButton=this.add.circle(.75*this.gameWidth,.87*this.gameHeight,30,1315860).setInteractive().on("pointerdown",(()=>{this.blackBalls.getChildren().forEach((t=>{this.tweens.add({targets:t,alpha:1,props:{x:{value:.75*this.gameWidth,duration:900},y:{value:.87*this.gameHeight,duration:900,ease:e.Math.Easing.Quadratic.InOut}},repeat:1,yoyo:!0}).play,this.time.addEvent({delay:900,callback:()=>{this.score++,this.scoreBoard.setText("Score: "+this.score),t.destroy()}})}))})).on("pointerup",(()=>{})),this.enemy=this.add.circle(.2*this.gameWidth,.78*this.gameHeight,15,135385),this.physics.add.existing(this.enemy),this.tweens.add({targets:this.enemy,alpha:1,props:{x:{value:.8*this.gameWidth,duration:1500,ease:e.Math.Easing.Stepped(400,10)}},repeat:-1,yoyo:!0}).play,this.physics.add.collider(this.enemy,this.yellowBalls,((e,t)=>{this.gameOver=!0})),this.physics.add.collider(this.enemy,this.redBalls,((e,t)=>{this.gameOver=!0})),this.physics.add.collider(this.enemy,this.blackBalls,((e,t)=>{this.gameOver=!0})),this.scoreBoard=this.add.text(0,0,"Score: 0",{fontSize:"32px",fontStyle:"bold",color:"#fffff"})}BallGenerator(t){for(var s=0;s<this.randomNumberPic(6,13);s++){var i=this.add.circle(this.randomNumberPic(1,this.gameWidth),this.randomNumberPic(1,.65*this.gameHeight),10,this.colour.get(t));this.physics.add.existing(i),this.tweens.add({targets:i,alpha:1,props:{x:{value:this.randomNumberPic(1,.9*this.gameWidth),duration:this.randomNumberPic(800,1200)},y:{value:this.randomNumberPic(1,.65*this.gameHeight),duration:this.randomNumberPic(600,1e3),ease:e.Math.Easing.Quadratic.InOut}},repeat:-1,yoyo:!0}).play,"yellow"==t?this.yellowBalls.add(i):"red"==t?this.redBalls.add(i):this.blackBalls.add(i)}}checkOverlap(t,s){return e.Geom.Intersects.CircleToCircle(t,s)}update(e,t){for(this.timer+=t;this.timer>this.randomNumberPic(3e3,5e3);)this.resources+=1,this.timer-=this.randomNumberPic(3e3,5e3),this.BallGenerator(this.colorsPicker[this.randomNumberPic(0,2)]);this.gameOver&&(this.scene.start("welcomePage",{score:this.score}),this.bestScore<this.score&&localStorage.setItem("bestScore",this.score)),this.gameOver&&(this.input.activePointer.isDown||this.input.pointer1.isDown)&&(this.score=0,this.gameOver=!1,this.scene.restart())}randomNumberPic(e,t){return Math.floor(Math.random()*(t-e+1))+e}}class s extends Phaser.Scene{constructor(){super("welcomePage"),this.score=0}init(e){this.score=e.score}preload(){!this.score&&(this.score=0),null==localStorage.getItem("bestScore")?this.bestScore=0:this.bestScore=localStorage.getItem("bestScore")}create(){console.log("@@@@@@@@@@"+this.score),this.add.text(80,600,"Tap to play",{fontSize:"35px",fontStyle:"bold",color:"#fffff",align:"centre"}).setInteractive().on("pointerdown",(()=>{this.scene.launch("game"),this.scene.setVisible(!1,"welcomePage")})),this.add.text(20,100,"BALLS COLLECTOR",{fontSize:"60px",fontStyle:"bold",color:"#fffff",align:"centre",wordWrap:{width:10}}),this.add.text(100,300,"Score: "+this.score,{fontSize:"32px",fontStyle:"bold",color:"#fffff"}),this.add.text(100,400,"Best Score: "+this.bestScore,{fontSize:"32px",fontStyle:"bold",color:"#fffff"})}}var i={type:e.AUTO,debugger:!0,width:400,height:800,backgroundColor:"#dce3de",physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:[t,s]};new e.Game(Object.assign(i,{scene:[s,t]}));
