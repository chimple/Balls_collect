import{P as e}from"./vendor.21f5455c.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(s){const i=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((s,o)=>{const r=new URL(e,i);if(self[t].moduleMap[r])return s(self[t].moduleMap[r]);const h=new Blob([`import * as m from '${r}';`,`${t}.moduleMap['${r}']=m;`],{type:"text/javascript"}),l=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(h),onerror(){o(new Error(`Failed to import: ${e}`)),a(l)},onload(){s(self[t].moduleMap[r]),a(l)}});document.head.appendChild(l)})),self[t].moduleMap={}}}("/assets/");class t extends e.Scene{constructor(){super("game"),this.gameWidth=400,this.gameHeight=800,this.timer=0,this.resources=0,this.score=0,this.gameOver=!1,this.bestScore=0,this.check=.8*this.gameWidth,this.speed=1e3}preload(){this.load.image("enemy","./assets/enemy.png"),this.load.audio("collect","./assets/collect.wav"),this.load.audio("over","./assets/over.wav"),this.randomenemyPosition=[.15*this.gameWidth,.5*this.gameWidth,.85*this.gameWidth],this.scene.stop("welcomePage"),null==localStorage.getItem("bestScore")?this.bestScore=0:this.bestScore=localStorage.getItem("bestScore"),this.colour=new Map,this.colorsPicker=["orange","yellow","green"],this.colour.set("orange",16678990),this.colour.set("yellow",16700476),this.colour.set("green",1563803),this.orangeBalls=this.physics.add.group(),this.greenBalls=this.physics.add.group(),this.yellowBalls=this.physics.add.group()}create(){this.BallGenerator(this.colorsPicker[0]),this.BallGenerator(this.colorsPicker[1]),this.BallGenerator(this.colorsPicker[2]),this.orangeButton=this.add.circle(.5*this.gameWidth,.87*this.gameHeight,30,16678990).setInteractive().on("pointerdown",(()=>{this.orangeBalls.getChildren().forEach((t=>{this.checkBall=t,this.tweens.add({targets:t,alpha:1,props:{x:{value:.5*this.gameWidth,duration:900},y:{value:.87*this.gameHeight,duration:900,ease:e.Math.Easing.Quadratic.InOut}},repeat:1,yoyo:!0}).play,this.time.addEvent({delay:900,callback:()=>{this.score++,this.scoreBoard.setText("Score: "+this.score),t.destroy()}})}))})).on("pointerup",(()=>{this.BallGenerator(this.colorsPicker[0]),this.sound.play("collect")})),this.yellowButton=this.add.circle(.15*this.gameWidth,.87*this.gameHeight,30,16700476).setInteractive().on("pointerdown",(()=>{this.yellowBalls.getChildren().forEach((t=>{this.tweens.add({targets:t,alpha:1,props:{x:{value:.15*this.gameWidth,duration:900},y:{value:.87*this.gameHeight,duration:900,ease:e.Math.Easing.Quadratic.InOut}},repeat:1,yoyo:!0}).play,this.time.addEvent({delay:900,callback:()=>{this.score++,this.scoreBoard.setText("Score: "+this.score),t.destroy()}})}))})).on("pointerup",(()=>{this.BallGenerator(this.colorsPicker[1]),this.sound.play("collect")})),this.greenButton=this.add.circle(.85*this.gameWidth,.87*this.gameHeight,30,1563803).setInteractive().on("pointerdown",(()=>{this.greenBalls.getChildren().forEach((t=>{this.tweens.add({targets:t,alpha:1,props:{x:{value:.85*this.gameWidth,duration:900},y:{value:.87*this.gameHeight,duration:900,ease:e.Math.Easing.Quadratic.InOut}},repeat:1,yoyo:!0}).play,this.time.addEvent({delay:900,callback:()=>{this.score++,this.scoreBoard.setText("Score: "+this.score),t.destroy()}})}))})).on("pointerup",(()=>{this.BallGenerator(this.colorsPicker[2]),this.sound.play("collect")})),this.enemy=this.add.image(this.yellowButton.x,.78*this.gameHeight,"enemy").setScale(.3),this.physics.add.existing(this.enemy),this.enemyTween(this.enemy),this.physics.add.collider(this.enemy,this.yellowBalls,((e,t)=>{this.gameOver=!0})),this.physics.add.collider(this.enemy,this.orangeBalls,((e,t)=>{this.gameOver=!0})),this.physics.add.collider(this.enemy,this.greenBalls,((e,t)=>{this.gameOver=!0})),this.scoreBoard=this.add.text(this.gameWidth/2,.05*this.gameHeight,"Score: 0",{fontSize:"32px",fontStyle:"bold",color:"#fffff"}).setOrigin(.5,0)}BallGenerator(e){for(var t=0;t<this.randomNumberPic(10,15);t++){var s=this.add.circle(this.randomNumberPic(1,this.gameWidth),this.randomNumberPic(1,.65*this.gameHeight),10,this.colour.get(e));this.physics.add.existing(s),this.ballsTween(s),"yellow"==e?this.yellowBalls.add(s):"orange"==e?this.orangeBalls.add(s):this.greenBalls.add(s)}}checkOverlap(t,s){return e.Geom.Intersects.CircleToCircle(t,s)}update(e,t){for(this.enemy.angle+=5,this.timer+=t;this.timer>this.randomNumberPic(3e3,5e3);)this.resources+=1,this.timer-=this.randomNumberPic(3e3,5e3),this.BallGenerator(this.colorsPicker[this.randomNumberPic(0,2)]);this.gameOver&&(this.sound.stopByKey("collect"),this.sound.play("over"),this.scene.pause(),this.bestScore<this.score&&localStorage.setItem("bestScore",this.score),this.add.text(this.gameWidth/2,this.gameHeight/2,"Game Over").setFontSize(60).setColor("#000000").setFontStyle("bold").setFontFamily("Zekton").setOrigin(.5),setTimeout((()=>{this.scene.start("welcomePage",{score:this.score,isGameOver:!0}),this.scene.remove("game")}),1e3)),this.gameOver&&(this.input.activePointer.isDown||this.input.pointer1.isDown)&&(this.score=0,this.gameOver=!1,this.scene.restart())}ballsTween(e){this.tweens.add({targets:e,alpha:1,onComplete:()=>{this.ballsTween(e)},props:{x:{value:this.randomNumberPic(100,.9*this.gameWidth),duration:this.randomNumberPic(1400,1500)},y:{value:this.randomNumberPic(200,.65*this.gameHeight),duration:this.randomNumberPic(1400,1500)}},repeat:1,yoyo:!0}).play}enemyTween(e){var t=this.randomenemyPosition[this.randomNumberPic(0,2)];t==e.x&&(t=this.randomenemyPosition[this.randomNumberPic(0,2)]),this.tweens.add({targets:e,hold:this.randomNumberPic(0,150),alpha:1,onComplete:()=>{this.enemyTween(e)},props:{x:{value:t,duration:this.randomNumberPic(600,800)}}}).play}randomNumberPic(e,t){return Math.floor(Math.random()*(t-e+1))+e}}class s extends Phaser.Scene{constructor(){super("welcomePage"),this.gameWidth=400,this.gameHeight=800}init(e){var t;this.score=e.score,this.isGameOver=null!=(t=e.isGameOver)&&t}preload(){this.load.image("title","./assets/title.png"),this.load.image("play","./assets/play.png"),this.load.audio("click","./assets/click.mp3"),null==localStorage.getItem("bestScore")?this.bestScore=0:this.bestScore=localStorage.getItem("bestScore")}create(){var e,s;this.add.image(200,50,"title").setOrigin(.5,0).setScale(.3),this.add.text(this.gameWidth/2,.4*this.gameHeight,"Score").setFontSize(60).setColor("#000000").setFontFamily("Agency FB").setOrigin(.5,0),this.add.text(this.gameWidth/2,.47*this.gameHeight,null!=(e=this.score)?e:"00").setFontSize(45).setFontFamily("Agency FB").setColor("#000000").setOrigin(.5,0),this.add.text(this.gameWidth/2,.65*this.gameHeight,"Best Score").setFontSize(50).setColor("#000000").setFontFamily("Agency FB").setOrigin(.5,0),this.add.text(this.gameWidth/2,.7*this.gameHeight,null!=(s=localStorage.getItem("bestScore"))?s:"00").setFontSize(45).setFontFamily("Agency FB").setColor("#000000").setOrigin(.5,0),this.button=this.add.image(this.gameWidth/2,.8*this.gameHeight,"play").setOrigin(.5,0).setScale(.3).setInteractive().on("pointerdown",(()=>{this.sound.play("click"),this.isGameOver&&this.scene.add("game",t,!1),this.scene.start("game")})),this.add.text(this.button.x-35,this.button.y+10,"play",{fontSize:"35px",fontStyle:"bold",align:"centre",color:"\t#FFFFFF"})}}var i={type:e.AUTO,debugger:!0,width:400,height:800,backgroundColor:"#EBFAFF",physics:{default:"arcade",arcade:{gravity:{y:0}}},scene:[t,s]};new e.Game(Object.assign(i,{scene:[s,t]}));
